{"version":3,"file":"script.min.js","sources":["script.js"],"sourcesContent":["class AdvancedParticleSystem {\n    constructor() {\n        this.particles = [];\n        this.container = document.getElementById('backgroundAnimation');\n        this.maxParticles = this.isMobile() ? 50 : 150;\n        this.emitters = [];\n        this.time = 0;\n        this.init();\n        this.lastUpdateTime = 0;\n        this.targetFPS = this.isMobile() ? 30 : 60;\n        this.frameInterval = 1000 / this.targetFPS;\n    }\n\n    init() {\n        this.setupEmitters();\n        this.animate();\n        this.startContinuousGeneration();\n    }\n\n    isMobile() {\n        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;\n    }\n\n    setupEmitters() {\n        // 4つの角からの放出源\n        this.emitters = [\n            { x: 0, y: 0, angle: 45, strength: 0.8 },\n            { x: window.innerWidth, y: 0, angle: 135, strength: 0.8 },\n            { x: 0, y: window.innerHeight, angle: 315, strength: 0.8 },\n            { x: window.innerWidth, y: window.innerHeight, angle: 225, strength: 0.8 }\n        ];\n\n        // 画面下部からの上昇気流\n        for (let i = 0; i < 5; i++) {\n            this.emitters.push({\n                x: (window.innerWidth / 6) * (i + 1),\n                y: window.innerHeight,\n                angle: 270,\n                strength: 1.2\n            });\n        }\n    }\n\n    startContinuousGeneration() {\n        // 適度な頻度で生成（ランダム間隔）\n        const scheduleWaveGeneration = () => {\n            setTimeout(() => {\n                if (this.particles.length < this.maxParticles) {\n                    this.generateWaveParticles();\n                }\n                scheduleWaveGeneration();\n            }, this.isMobile() ? Math.random() * 400 + 200 : Math.random() * 200 + 100); // モバイル: 200-600ms, デスクトップ: 100-300ms\n        };\n        scheduleWaveGeneration();\n\n        // エネルギー爆発を無効化\n        // const scheduleEnergyBurst = () => {\n        //     setTimeout(() => {\n        //         this.createEnergyBurst();\n        //         scheduleEnergyBurst();\n        //     }, Math.random() * 4000 + 2000);\n        // };\n        // setTimeout(scheduleEnergyBurst, Math.random() * 2000);\n\n        // 魔法効果（ランダムタイミング）\n        const scheduleMagicEffect = () => {\n            setTimeout(() => {\n                this.createMagicEffect();\n                scheduleMagicEffect();\n            }, this.isMobile() ? Math.random() * 8000 + 5000 : Math.random() * 5000 + 3000); // モバイル: 5-13秒, デスクトップ: 3-8秒\n        };\n        setTimeout(scheduleMagicEffect, Math.random() * 3000); // 初回は0-3秒後\n\n        // 軌道パーティクル（ランダムタイミング）\n        const scheduleOrbitParticles = () => {\n            setTimeout(() => {\n                this.createOrbitParticles();\n                scheduleOrbitParticles();\n            }, this.isMobile() ? Math.random() * 6000 + 3000 : Math.random() * 3000 + 1500); // モバイル: 3-9秒, デスクトップ: 1.5-4.5秒\n        };\n        setTimeout(scheduleOrbitParticles, Math.random() * 1500); // 初回は0-1.5秒後\n    }\n\n    generateWaveParticles() {\n        // 放出源からの生成\n        this.emitters.forEach(emitter => {\n            if (Math.random() < 0.2 + Math.random() * 0.3) { // 0.2-0.5の範囲\n                this.createParticleFromEmitter(emitter);\n            }\n        });\n\n        // ランダム生成（数を減らし）\n        if (Math.random() < 0.7) {\n            this.createRandomParticle();\n        }\n    }\n\n    createParticleFromEmitter(emitter) {\n        const types = ['energy', 'spark', 'magic', 'tech', 'geometric'];\n        const angleRad = (emitter.angle + (Math.random() - 0.5) * 60) * Math.PI / 180;\n        \n        const particle = {\n            element: document.createElement('div'),\n            x: emitter.x + (Math.random() - 0.5) * 50,\n            y: emitter.y + (Math.random() - 0.5) * 50,\n            velocityX: Math.cos(angleRad) * (Math.random() * 3 + 1) * emitter.strength,\n            velocityY: Math.sin(angleRad) * (Math.random() * 3 + 1) * emitter.strength,\n            size: Math.random() * 8 + 3,\n            opacity: Math.random() * 0.8 + 0.4,\n            rotation: Math.random() * 360,\n            rotationSpeed: (Math.random() - 0.5) * 8,\n            life: 1.0,\n            decay: Math.random() * 0.002 + 0.001,\n            gravity: Math.random() * 0.02,\n            wind: (Math.random() - 0.5) * 0.03,\n            bounce: 0.3 + Math.random() * 0.4,\n            type: types[Math.floor(Math.random() * types.length)],\n            pulseSpeed: Math.random() * 0.1 + 0.05,\n            originalSize: 0\n        };\n\n        particle.originalSize = particle.size;\n        this.setupParticleElement(particle);\n        this.particles.push(particle);\n    }\n\n    createRandomParticle() {\n        const types = ['energy', 'spark', 'magic', 'tech', 'geometric', 'trail'];\n        const edge = Math.floor(Math.random() * 4);\n        let x, y, vx, vy;\n\n        switch(edge) {\n            case 0: // 上\n                x = Math.random() * window.innerWidth;\n                y = -20;\n                vx = (Math.random() - 0.5) * 2;\n                vy = Math.random() * 3 + 1;\n                break;\n            case 1: // 右\n                x = window.innerWidth + 20;\n                y = Math.random() * window.innerHeight;\n                vx = -(Math.random() * 3 + 1);\n                vy = (Math.random() - 0.5) * 2;\n                break;\n            case 2: // 下\n                x = Math.random() * window.innerWidth;\n                y = window.innerHeight + 20;\n                vx = (Math.random() - 0.5) * 2;\n                vy = -(Math.random() * 3 + 1);\n                break;\n            case 3: // 左\n                x = -20;\n                y = Math.random() * window.innerHeight;\n                vx = Math.random() * 3 + 1;\n                vy = (Math.random() - 0.5) * 2;\n                break;\n        }\n\n        const particle = {\n            element: document.createElement('div'),\n            x: x,\n            y: y,\n            velocityX: vx,\n            velocityY: vy,\n            size: Math.random() * 12 + 2,\n            opacity: Math.random() * 0.9 + 0.3,\n            rotation: Math.random() * 360,\n            rotationSpeed: (Math.random() - 0.5) * 6,\n            life: 1.0,\n            decay: Math.random() * 0.003 + 0.001,\n            gravity: Math.random() * 0.02,\n            wind: (Math.random() - 0.5) * 0.02,\n            bounce: 0.2 + Math.random() * 0.5,\n            type: types[Math.floor(Math.random() * types.length)],\n            pulseSpeed: Math.random() * 0.1 + 0.03,\n            originalSize: 0\n        };\n\n        particle.originalSize = particle.size;\n        this.setupParticleElement(particle);\n        this.particles.push(particle);\n    }\n\n    createEnergyBurst() {\n        const centerX = window.innerWidth / 2;\n        const centerY = window.innerHeight / 2;\n\n        const burstCount = this.isMobile() ? 15 : 30;\n        for (let i = 0; i < burstCount; i++) {\n            const angle = (360 / 30) * i;\n            const angleRad = angle * Math.PI / 180;\n            const distance = Math.random() * 100 + 50;\n            \n            const particle = {\n                element: document.createElement('div'),\n                x: centerX,\n                y: centerY,\n                velocityX: Math.cos(angleRad) * (Math.random() * 6 + 4),\n                velocityY: Math.sin(angleRad) * (Math.random() * 6 + 4),\n                size: Math.random() * 10 + 5,\n                opacity: 0.9,\n                rotation: angle,\n                rotationSpeed: (Math.random() - 0.5) * 10,\n                life: 1.0,\n                decay: Math.random() * 0.005 + 0.003,\n                gravity: 0,\n                wind: 0,\n                bounce: 0,\n                type: 'energy',\n                pulseSpeed: 0.2,\n                originalSize: 0\n            };\n\n            particle.originalSize = particle.size;\n            this.setupParticleElement(particle);\n            this.particles.push(particle);\n        }\n    }\n\n    createMagicEffect() {\n        const centerX = window.innerWidth / 2;\n        const centerY = window.innerHeight / 2;\n\n        const magicCount = this.isMobile() ? 6 : 12;\n        for (let i = 0; i < magicCount; i++) {\n            const angle = Math.random() * 360;\n            const angleRad = angle * Math.PI / 180;\n            const radius = Math.random() * 200 + 100;\n            \n            const particle = {\n                element: document.createElement('div'),\n                x: centerX + Math.cos(angleRad) * radius,\n                y: centerY + Math.sin(angleRad) * radius,\n                velocityX: -Math.cos(angleRad) * 2,\n                velocityY: -Math.sin(angleRad) * 2,\n                size: Math.random() * 6 + 3,\n                opacity: 0.8,\n                rotation: 0,\n                rotationSpeed: (Math.random() - 0.5) * 15,\n                life: 1.0,\n                decay: 0.008,\n                gravity: 0,\n                wind: 0,\n                bounce: 0,\n                type: 'magic',\n                pulseSpeed: 0.15,\n                originalSize: 0\n            };\n\n            particle.originalSize = particle.size;\n            this.setupParticleElement(particle);\n            this.particles.push(particle);\n        }\n    }\n\n    createOrbitParticles() {\n        const centerX = window.innerWidth / 2;\n        const centerY = window.innerHeight / 2;\n\n        const orbitCount = this.isMobile() ? 4 : 8;\n        for (let i = 0; i < orbitCount; i++) {\n            const angle = (360 / 15) * i;\n            const angleRad = angle * Math.PI / 180;\n            const radius = 250;\n            \n            const particle = {\n                element: document.createElement('div'),\n                x: centerX + Math.cos(angleRad) * radius,\n                y: centerY + Math.sin(angleRad) * radius,\n                velocityX: -Math.sin(angleRad) * 3,\n                velocityY: Math.cos(angleRad) * 3,\n                size: Math.random() * 4 + 2,\n                opacity: 0.7,\n                rotation: angle,\n                rotationSpeed: 2,\n                life: 1.0,\n                decay: 0.002,\n                gravity: 0,\n                wind: 0,\n                bounce: 0,\n                type: 'tech',\n                pulseSpeed: 0.1,\n                originalSize: 0,\n                orbital: true,\n                orbitAngle: angleRad,\n                orbitRadius: radius,\n                orbitSpeed: 0.02\n            };\n\n            particle.originalSize = particle.size;\n            this.setupParticleElement(particle);\n            this.particles.push(particle);\n        }\n    }\n\n    setupParticleElement(particle) {\n        particle.element.className = `particle ${particle.type}`;\n        particle.element.style.width = particle.size + 'px';\n        particle.element.style.height = particle.size + 'px';\n        particle.element.style.left = particle.x + 'px';\n        particle.element.style.top = particle.y + 'px';\n        particle.element.style.opacity = particle.opacity;\n        particle.element.style.position = 'absolute';\n        particle.element.style.transform = `rotate(${particle.rotation}deg)`;\n        \n        this.container.appendChild(particle.element);\n    }\n\n    updateParticles() {\n        this.time += 0.016;\n\n        // パフォーマンス最適化：上限チェック\n        if (this.particles.length > this.maxParticles) {\n            const excess = this.particles.length - this.maxParticles;\n            for (let i = 0; i < excess; i++) {\n                const particle = this.particles[i];\n                if (particle && particle.element && particle.element.parentNode) {\n                    this.container.removeChild(particle.element);\n                }\n            }\n            this.particles.splice(0, excess);\n        }\n\n        for (let i = this.particles.length - 1; i >= 0; i--) {\n            const particle = this.particles[i];\n            if (!particle || !particle.element) continue;\n\n            if (particle.orbital) {\n                // 軌道運動\n                particle.orbitAngle += particle.orbitSpeed;\n                const centerX = window.innerWidth / 2;\n                const centerY = window.innerHeight / 2;\n                particle.x = centerX + Math.cos(particle.orbitAngle) * particle.orbitRadius;\n                particle.y = centerY + Math.sin(particle.orbitAngle) * particle.orbitRadius;\n            } else {\n                // 通常の物理運動\n                particle.velocityY += particle.gravity;\n                particle.velocityX += particle.wind;\n                \n                particle.x += particle.velocityX;\n                particle.y += particle.velocityY;\n            }\n\n            particle.rotation += particle.rotationSpeed;\n\n            // 画面端での循環\n            if (particle.x < -50) particle.x = window.innerWidth + 50;\n            if (particle.x > window.innerWidth + 50) particle.x = -50;\n            if (particle.y < -50) particle.y = window.innerHeight + 50;\n            if (particle.y > window.innerHeight + 50) particle.y = -50;\n\n            // パルス効果\n            const pulse = Math.sin(this.time * particle.pulseSpeed) * 0.3 + 0.7;\n            particle.size = particle.originalSize * pulse;\n\n            // ライフサイクル\n            particle.life -= particle.decay;\n            particle.opacity = Math.max(0, particle.life * 0.9);\n\n            // DOM更新の最適化\n            if (this.isMobile()) {\n                // モバイルでは軽量な更新\n                particle.element.style.left = Math.round(particle.x) + 'px';\n                particle.element.style.top = Math.round(particle.y) + 'px';\n                particle.element.style.opacity = particle.opacity;\n                // 回転とスケールは省略\n            } else {\n                // デスクトップでは通常の更新\n                particle.element.style.left = particle.x + 'px';\n                particle.element.style.top = particle.y + 'px';\n                particle.element.style.width = particle.size + 'px';\n                particle.element.style.height = particle.size + 'px';\n                particle.element.style.opacity = particle.opacity;\n                particle.element.style.transform = `rotate(${particle.rotation}deg) scale(${pulse})`;\n            }\n\n            // パーティクル削除と再生成\n            if (particle.life <= 0) {\n                if (particle.element.parentNode) {\n                    this.container.removeChild(particle.element);\n                }\n                this.particles.splice(i, 1);\n                \n                // 永続化のための再生成（確率を下げる）\n                if (Math.random() < 0.4) {\n                    setTimeout(() => {\n                        if (this.particles.length < this.maxParticles) {\n                            this.createRandomParticle();\n                        }\n                    }, Math.random() * 2000 + 500); // 0.5-2.5秒後\n                }\n            }\n        }\n    }\n\n    animate(currentTime = 0) {\n        if (currentTime - this.lastUpdateTime >= this.frameInterval) {\n            this.updateParticles();\n            this.lastUpdateTime = currentTime;\n        }\n        requestAnimationFrame((time) => this.animate(time));\n    }\n\n    addInteractiveBurst(x, y) {\n        const interactiveCount = this.isMobile() ? 10 : 25;\n        for (let i = 0; i < interactiveCount; i++) {\n            const angle = Math.random() * 360;\n            const angleRad = angle * Math.PI / 180;\n            const speed = Math.random() * 8 + 2;\n            \n            const particle = {\n                element: document.createElement('div'),\n                x: x,\n                y: y,\n                velocityX: Math.cos(angleRad) * speed,\n                velocityY: Math.sin(angleRad) * speed,\n                size: Math.random() * 8 + 3,\n                opacity: 1.0,\n                rotation: angle,\n                rotationSpeed: (Math.random() - 0.5) * 20,\n                life: 1.0,\n                decay: Math.random() * 0.01 + 0.005,\n                gravity: 0.1,\n                wind: 0,\n                bounce: 0.3,\n                type: ['spark', 'energy', 'magic'][Math.floor(Math.random() * 3)],\n                pulseSpeed: 0.3,\n                originalSize: 0\n            };\n\n            particle.originalSize = particle.size;\n            this.setupParticleElement(particle);\n            this.particles.push(particle);\n        }\n    }\n}\n\n// システム初期化\nlet particleSystem;\n\n// タグラインの配列\nconst taglines = [\n    'From tiny sparks to endless possibilities',\n    'Beyond the ordinary, within reach',\n    'Innovation starts small',\n    'Spark. Grow. Exceed.',\n    'Small ideas, big impact',\n    'Where ideas take flight',\n    'Empower every moment',\n    'Magic Beyond Limits',\n    'Seeds of Ideas, Speed to Success',\n    'Where Magic Meets Momentum',\n    'Growing Ideas, Exceeding Expectations',\n    'From Tiny Seeds to Extraordinary Heights',\n    'Fast, Creative, Beyond Boundaries',\n    'Whispers of Magic, Waves of Change',\n    'Plant the Spark, Watch it Soar',\n    'Light as a Pixie, Bold as a Dream'\n];\n\n// ランダムタグライン表示\nfunction displayRandomTagline() {\n    const randomIndex = Math.floor(Math.random() * taglines.length);\n    const taglineElement = document.getElementById('tagline');\n    taglineElement.textContent = taglines[randomIndex];\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // タグライン設定\n    displayRandomTagline();\n    \n    particleSystem = new AdvancedParticleSystem();\n    \n    // インタラクティブ要素\n    document.addEventListener('click', function(e) {\n        particleSystem.addInteractiveBurst(e.clientX, e.clientY);\n    });\n\n    // ウィンドウリサイズ対応\n    window.addEventListener('resize', function() {\n        particleSystem.setupEmitters();\n    });\n});"],"names":["AdvancedParticleSystem","constructor","this","particles","container","document","getElementById","maxParticles","isMobile","emitters","time","init","lastUpdateTime","targetFPS","frameInterval","setupEmitters","animate","startContinuousGeneration","test","navigator","userAgent","window","innerWidth","x","y","angle","strength","innerHeight","let","i","push","scheduleWaveGeneration","setTimeout","length","generateWaveParticles","Math","random","scheduleMagicEffect","createMagicEffect","scheduleOrbitParticles","createOrbitParticles","forEach","emitter","createParticleFromEmitter","createRandomParticle","types","angleRad","PI","particle","element","createElement","velocityX","cos","velocityY","sin","size","opacity","rotation","rotationSpeed","life","decay","gravity","wind","bounce","type","floor","pulseSpeed","originalSize","setupParticleElement","vx","vy","createEnergyBurst","centerX","centerY","burstCount","magicCount","radius","orbitCount","orbital","orbitAngle","orbitRadius","orbitSpeed","className","style","width","height","left","top","position","transform","appendChild","updateParticles","excess","parentNode","removeChild","splice","pulse","max","round","currentTime","requestAnimationFrame","addInteractiveBurst","interactiveCount","speed","particleSystem","taglines","displayRandomTagline","randomIndex","textContent","addEventListener","e","clientX","clientY"],"mappings":"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"}